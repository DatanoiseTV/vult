fun process() : real {
   val rate = 0.00148314;
   mem phase = phase + rate;
   phase = if phase > 1.0 then phase - 1.0 else phase;
   return phase;
}