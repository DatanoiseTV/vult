
/* Code automatically generated by Vult https://github.com/modlfo/vult */
#include "gates.h"

void Gates__ctx_type_1_init(Gates__ctx_type_1 &_output_){
   Gates__ctx_type_1 _ctx;
   int_init_array(8,0,_ctx.vel);
   _ctx.gates_state_ret_7 = 0.0f;
   _ctx.gates_state_ret_6 = 0.0f;
   _ctx.gates_state_ret_5 = 0.0f;
   _ctx.gates_state_ret_4 = 0.0f;
   _ctx.gates_state_ret_3 = 0.0f;
   _ctx.gates_state_ret_2 = 0.0f;
   _ctx.gates_state_ret_1 = 0.0f;
   _ctx.gates_state_ret_0 = 0.0f;
   _output_ = _ctx;
   return ;
}

void Gates_gates_state(Gates__ctx_type_1 &_ctx){
   float vel1;
   vel1 = Gates_velToCV(int_get(_ctx.vel,0));
   float vel2;
   vel2 = Gates_velToCV(int_get(_ctx.vel,1));
   float vel3;
   vel3 = Gates_velToCV(int_get(_ctx.vel,2));
   float vel4;
   vel4 = Gates_velToCV(int_get(_ctx.vel,3));
   float vel5;
   vel5 = Gates_velToCV(int_get(_ctx.vel,4));
   float vel6;
   vel6 = Gates_velToCV(int_get(_ctx.vel,5));
   float vel7;
   vel7 = Gates_velToCV(int_get(_ctx.vel,6));
   float vel8;
   vel8 = Gates_velToCV(int_get(_ctx.vel,7));
   _ctx.gates_state_ret_0 = vel1;
   _ctx.gates_state_ret_1 = vel2;
   _ctx.gates_state_ret_2 = vel3;
   _ctx.gates_state_ret_3 = vel4;
   _ctx.gates_state_ret_4 = vel5;
   _ctx.gates_state_ret_5 = vel6;
   _ctx.gates_state_ret_6 = vel7;
   _ctx.gates_state_ret_7 = vel8;
   return ;
}

void Gates__ctx_type_2_init(Gates__ctx_type_2 &_output_){
   Gates__ctx_type_2 _ctx;
   _ctx.process_ret_7 = 0.0f;
   _ctx.process_ret_6 = 0.0f;
   _ctx.process_ret_5 = 0.0f;
   _ctx.process_ret_4 = 0.0f;
   _ctx.process_ret_3 = 0.0f;
   _ctx.process_ret_2 = 0.0f;
   _ctx.process_ret_1 = 0.0f;
   _ctx.process_ret_0 = 0.0f;
   Gates__ctx_type_1_init(_ctx.gates);
   _ctx.channel_in = 0;
   _output_ = _ctx;
   return ;
}

void Gates_process(Gates__ctx_type_2 &_ctx, int c){
   _ctx.channel_in = c;
   Gates_gates_state(_ctx.gates);
   _ctx.process_ret_0 = Gates_gates_state_ret_0(_ctx.gates);
   _ctx.process_ret_1 = Gates_gates_state_ret_1(_ctx.gates);
   _ctx.process_ret_2 = Gates_gates_state_ret_2(_ctx.gates);
   _ctx.process_ret_3 = Gates_gates_state_ret_3(_ctx.gates);
   _ctx.process_ret_4 = Gates_gates_state_ret_4(_ctx.gates);
   _ctx.process_ret_5 = Gates_gates_state_ret_5(_ctx.gates);
   _ctx.process_ret_6 = Gates_gates_state_ret_6(_ctx.gates);
   _ctx.process_ret_7 = Gates_gates_state_ret_7(_ctx.gates);
   return ;
}


