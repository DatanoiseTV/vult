
/* Code automatically generated by Vult https://github.com/modlfo/vult */
#include "aff_ff.h"

void Aff_ff__ctx_type_0_init(Aff_ff__ctx_type_0 &_output_){
   Aff_ff__ctx_type_0 _ctx;
   _ctx.x = 0;
   _ctx.process_ret_1 = 0.f;
   _ctx.process_ret_0 = 0.f;
   _output_ = _ctx;
   return ;
}

void Aff_ff_process_init(Aff_ff__ctx_type_0 &_output_){
   Aff_ff__ctx_type_0_init(_output_);
   return ;
}

void Aff_ff_process(Aff_ff__ctx_type_0 &_ctx, float a, float b){
   _ctx.x = (_ctx.x + 1);
   _ctx.process_ret_0 = (a + b);
   _ctx.process_ret_1 = (a + (- b));
   return ;
}

void Aff_ff_process_ret_0_init(Aff_ff__ctx_type_0 &_output_){
   Aff_ff__ctx_type_0_init(_output_);
   return ;
}

float Aff_ff_process_ret_0(Aff_ff__ctx_type_0 &_ctx){
   return _ctx.process_ret_0;
}

void Aff_ff_process_ret_1_init(Aff_ff__ctx_type_0 &_output_){
   Aff_ff__ctx_type_0_init(_output_);
   return ;
}

float Aff_ff_process_ret_1(Aff_ff__ctx_type_0 &_ctx){
   return _ctx.process_ret_1;
}

void Aff_ff_noteOn_init(Aff_ff__ctx_type_0 &_output_){
   Aff_ff__ctx_type_0_init(_output_);
   return ;
}

void Aff_ff_noteOn(Aff_ff__ctx_type_0 &_ctx, int note, int velocity, int channel){

}

void Aff_ff_noteOff_init(Aff_ff__ctx_type_0 &_output_){
   Aff_ff__ctx_type_0_init(_output_);
   return ;
}

void Aff_ff_noteOff(Aff_ff__ctx_type_0 &_ctx, int note, int channel){

}

void Aff_ff_controlChange_init(Aff_ff__ctx_type_0 &_output_){
   Aff_ff__ctx_type_0_init(_output_);
   return ;
}

void Aff_ff_controlChange(Aff_ff__ctx_type_0 &_ctx, int control, int value, int channel){

}

void Aff_ff_default_init(Aff_ff__ctx_type_0 &_output_){
   Aff_ff__ctx_type_0_init(_output_);
   return ;
}

void Aff_ff_default(Aff_ff__ctx_type_0 &_ctx){

}



extern "C" {

static t_class *aff_ff_tilde_class;

typedef struct _aff_ff_tilde {
   t_object  x_obj;
   float dummy;
   Aff_ff_process_type data;
} t_aff_ff_tilde;

t_int *aff_ff_tilde_perform(t_int *w)
{
   t_aff_ff_tilde *x = (t_aff_ff_tilde *)(w[1]);

   t_sample *in_0 = (t_sample *)(w[2]); 
   t_sample *in_1 = (t_sample *)(w[3]); 
   t_sample *out_0 = (t_sample *)(w[4]); 
   t_sample *out_1 = (t_sample *)(w[5]); 

   int n = (int)(w[6]); 

   while (n--) {
   _tuple___real_real__ ret;  Aff_ff_process(x->data,(float) *(in_0++),(float) *(in_1++),ret); 
   *(out_0++) = (float) ret.field_0; 
   *(out_1++) = (float) ret.field_1; 

   }

   return (w+7);
}

void aff_ff_tilde_dsp(t_aff_ff_tilde *x, t_signal **sp)
{
   dsp_add(aff_ff_tilde_perform, 6,
   x, 
   sp[0]->s_vec, 
   sp[1]->s_vec, 
   sp[2]->s_vec, 
   sp[3]->s_vec, 

   sp[0]->s_n);
}

void *aff_ff_tilde_new()
{
   t_aff_ff_tilde *x = (t_aff_ff_tilde *)pd_new(aff_ff_tilde_class);

   Aff_ff_process_init(x->data); 
   Aff_ff_default(x->data); 

   inlet_new(&x->x_obj, &x->x_obj.ob_pd, &s_signal, &s_signal); 

   outlet_new(&x->x_obj, &s_signal); 
   outlet_new(&x->x_obj, &s_signal); 

   return (void *)x;
}

void aff_ff_tilde_delete(t_aff_ff_tilde *x){

}

void aff_ff_noteOn(t_aff_ff_tilde *x, t_floatarg note, t_floatarg velocity, t_floatarg channel){
   if((int)velocity) Aff_ff_noteOn(x->data,(int)note,(int)velocity,(int)channel);
   else Aff_ff_noteOff(x->data,(int)note,(int)channel);
}


void aff_ff_noteOff(t_aff_ff_tilde *x, t_floatarg note, t_floatarg channel) {
   Aff_ff_noteOff(x->data,(int)note,(int)channel);
}


void aff_ff_controlChange(t_aff_ff_tilde *x, t_floatarg control, t_floatarg value, t_floatarg channel) {
   Aff_ff_controlChange(x->data,(int)control,(int)value,(int)channel);
}


void aff_ff_tilde_setup(void) {
   aff_ff_tilde_class = class_new(gensym("aff_ff~"),
      (t_newmethod)aff_ff_tilde_new, // constructor function
      (t_method)aff_ff_tilde_delete, // destructor function
      sizeof(t_aff_ff_tilde), // size of the object
      CLASS_DEFAULT, // type of object
      A_NULL); // arguments passed

   class_addmethod(aff_ff_tilde_class, (t_method)aff_ff_tilde_dsp, gensym("dsp"), A_NULL);
   CLASS_MAINSIGNALIN(aff_ff_tilde_class, t_aff_ff_tilde, dummy);

   class_addmethod(aff_ff_tilde_class, (t_method)aff_ff_noteOn,        gensym("noteOn"),        A_DEFFLOAT, A_DEFFLOAT, A_DEFFLOAT, A_NULL);
   class_addmethod(aff_ff_tilde_class, (t_method)aff_ff_noteOff,       gensym("noteOff"),       A_DEFFLOAT, A_DEFFLOAT, A_NULL);
   class_addmethod(aff_ff_tilde_class, (t_method)aff_ff_controlChange, gensym("controlChange"), A_DEFFLOAT, A_DEFFLOAT, A_DEFFLOAT, A_NULL);
}

} // extern "C"
