
local this = {}
local ffi = require("ffi")
function this.ternary(cond,then_,else_) if cond then return then_ else return else_ end end
function this.eps()             return 1e-18; end
function this.pi()              return 3.1415926535897932384; end
function this.random()          return math.random(); end
function this.irandom()         return math.floor(math.random() * 4294967296); end
function this.clip(x,low,high)  return (this.ternary(x<low,low,this.ternary(x>high,high,x))); end
function this.real(x)           return x; end
function this.int(x)            local int_part,_ = math.modf(x) return int_part; end
function this.sin(x)            return math.sin(x); end
function this.cos(x)            return math.cos(x); end
function this.abs(x)            return math.abs(x); end
function this.exp(x)            return math.exp(x); end
function this.floor(x)          return math.floor(x); end
function this.tan(x)            return math.tan(x); end
function this.tanh(x)           return math.tanh(x); end
function this.sqrt(x)           return x; end
function this.set(a,i,v)        a[i+1]=v; end
function this.get(a,i)          return a[i+1]; end
function this.makeArray(size,v) local a = {}; for i=1,size do a[i]=v end return a; end
function this.wrap_array(a)     return a; end
local Wav_file_ext_wave_chan_0 = {0.0077,0.0512,0.0964,0.1442,0.1944,0.2468,0.3008,0.3552,0.4085,0.4591,0.5040,0.5365,0.5630,0.6319,0.6868,0.7350,0.7808,0.8247,0.8654,0.9016,0.9324,0.9573,0.9762,0.9894,0.9973,1.0000,0.9980,0.9917,0.9814,0.9675,0.9505,0.9308,0.9088,0.8848,0.8584,0.8303,0.8013,0.7710,0.7389,0.7049,0.6687,0.6299,0.5883,0.5437,0.4962,0.4455,0.3921,0.3359,0.2773,0.2167,0.1546,0.0917,0.0287,(-0.0335),(-0.0943),(-0.1527),(-0.2080),(-0.2592),(-0.3051),(-0.3440),(-0.3676),(-0.4060),(-0.4544),(-0.4926),(-0.5260),(-0.5571),(-0.5863),(-0.6127),(-0.6360),(-0.6557),(-0.6719),(-0.6846),(-0.6942),(-0.7006),(-0.7040),(-0.7046),(-0.7022),(-0.6971),(-0.6894),(-0.6792),(-0.6667),(-0.6520),(-0.6355),(-0.6171),(-0.5972),(-0.5757),(-0.5529),(-0.5289),(-0.5038),(-0.4775),(-0.4504),(-0.4226),(-0.3940),(-0.3649),(-0.3354),(-0.3055),(-0.2754),(-0.2452),(-0.2151),(-0.1851),(-0.1553),(-0.1258),(-0.0967),(-0.0681),(-0.0402),(-0.0129),0.0136,0.0394,0.0642,0.0881,0.1110,0.1328,0.1535,0.1730,0.1914,0.2084,0.2242,0.2387,0.2517,0.2633,0.2732,0.2807,0.2858,0.2965,0.3050,0.3120,0.3183,0.3241,0.3295,0.3343,0.3385,0.3419,0.3448,0.3471,0.3489,0.3500,0.3507,0.3509,0.3506,0.3498,0.3486,0.3469,0.3449,0.3425,0.3398,0.3368,0.3335,0.3300,0.3262,0.3221,0.3179,0.3134,0.3087,0.3037,0.2985,0.2932,0.2876,0.2817,0.2756,0.2693,0.2628,0.2560,0.2489,0.2415,0.2338,0.2259,0.2176,0.2090,0.2000,0.1908,0.1812,0.1713,0.1610,0.1504,0.1394,0.1281,0.1165,0.1046,0.0924,0.0799,0.0672,0.0542,0.0410,0.0276,0.0140,0.0003,(-0.0135),(-0.0274),(-0.0414),(-0.0554),(-0.0695),(-0.0835),(-0.0975),(-0.1114),(-0.1252),(-0.1389),(-0.1525),(-0.1659),(-0.1791),(-0.1922),(-0.2050),(-0.2176),(-0.2299),(-0.2421),(-0.2539),(-0.2655),(-0.2767),(-0.2877),(-0.2983),(-0.3087),(-0.3186),(-0.3283),(-0.3376),(-0.3466),(-0.3551),(-0.3633),(-0.3710),(-0.3783),(-0.3852),(-0.3916),(-0.3975),(-0.4029),(-0.4077),(-0.4120),(-0.4157),(-0.4188),(-0.4212),(-0.4230),(-0.4241),(-0.4245),(-0.4242),(-0.4232),(-0.4214),(-0.4189),(-0.4157),(-0.4117),(-0.4071),(-0.4016),(-0.3956),(-0.3888),(-0.3814),(-0.3734),(-0.3647),(-0.3555),(-0.3458),(-0.3356),(-0.3250),(-0.3141),(-0.3028),(-0.2912),(-0.2794),(-0.2675),(-0.2555),(-0.2435),(-0.2315),(-0.2196),(-0.2079),(-0.1964),(-0.1852),(-0.1743),(-0.1638),(-0.1537),(-0.1440),(-0.1346),(-0.1257),(-0.1172),(-0.1089),(-0.1009),(-0.0929),(-0.0847),(-0.0757),(-0.0654),(-0.0613),(-0.0565),(-0.0515),(-0.0471),(-0.0433),(-0.0400),(-0.0370),(-0.0340),(-0.0309),(-0.0277),(-0.0240),(-0.0199),(-0.0150),(-0.0094),(-0.0029),0.0047,0.0136,0.0240,0.0357,0.0490,0.0640,0.0808,0.0995,0.1202,0.1431,0.1685,0.1993,0.2353,0.2682,0.2957,0.3213,0.3433,0.3612,0.4032,0.4417,0.4794,0.5186,0.5592,0.6001,0.6404,0.6791,0.7155,0.7489,0.7788,0.8049,0.8268,0.8444,0.8574,0.8660,0.8702,0.8703,0.8665,0.8592,0.8488,0.8357,0.8204,0.8032,0.7844,0.7643,0.7432,0.7211,0.6983,0.6746,0.6500,0.6245,0.5979,0.5700,0.5407,0.5096,0.4766,0.4415,0.4040,0.3640,0.3215,0.2765,0.2289,0.1790,0.1270,0.0732,0.0182,(-0.0375),(-0.0935),(-0.1491),(-0.2038),(-0.2567),(-0.3072),(-0.3546),(-0.3982),(-0.4369),(-0.4692),(-0.4890),(-0.5167),(-0.5591),(-0.5911),(-0.6187),(-0.6446),(-0.6688),(-0.6909),(-0.7105),(-0.7271),(-0.7406),(-0.7513),(-0.7592),(-0.7645),(-0.7672),(-0.7674),(-0.7653),(-0.7607),(-0.7538),(-0.7449),(-0.7339),(-0.7212),(-0.7069),(-0.6911),(-0.6739),(-0.6554),(-0.6359),(-0.6153),(-0.5937),(-0.5713),(-0.5481),(-0.5243),(-0.4998),(-0.4748),(-0.4493),(-0.4235),(-0.3974),(-0.3710),(-0.3445),(-0.3179),(-0.2913),(-0.2646),(-0.2381),(-0.2116),(-0.1853),(-0.1593),(-0.1335),(-0.1080),(-0.0828),(-0.0580),(-0.0337),(-0.0098),0.0136,0.0366,0.0590,0.0807,0.1020,0.1226,0.1425,0.1618,0.1805,0.1984,0.2157,0.2322,0.2481,0.2632,0.2776,0.2914,0.3044,0.3168,0.3284,0.3394,0.3497,0.3594,0.3685,0.3770,0.3849,0.3922,0.3990,0.4052,0.4109,0.4161,0.4208,0.4250,0.4288,0.4321,0.4350,0.4374,0.4394,0.4409,0.4420,0.4427,0.4429,0.4427,0.4420,0.4408,0.4391,0.4369,0.4342,0.4310,0.4272,0.4230,0.4181,0.4127,0.4067,0.4001,0.3930,0.3853,0.3770,0.3682,0.3587,0.3488,0.3383,0.3274,0.3159,0.3040,0.2917,0.2790,0.2658,0.2523,0.2386,0.2245,0.2101,0.1956,0.1808,0.1658,0.1506,0.1353,0.1199,0.1044,0.0889,0.0732,0.0576,0.0419,0.0262,0.0106,(-0.0050),(-0.0206),(-0.0361),(-0.0516),(-0.0669),(-0.0822),(-0.0973),(-0.1123),(-0.1272),(-0.1419),(-0.1565),(-0.1708),(-0.1851),(-0.1991),(-0.2130),(-0.2266),(-0.2400),(-0.2532),(-0.2661),(-0.2787),(-0.2911),(-0.3031),(-0.3148),(-0.3261),(-0.3371),(-0.3476),(-0.3576),(-0.3671),(-0.3762),(-0.3846),(-0.3925),(-0.3997),(-0.4064),(-0.4123),(-0.4175),(-0.4220),(-0.4258),(-0.4287),(-0.4309),(-0.4324),(-0.4330),(-0.4330),(-0.4321),(-0.4305),(-0.4283),(-0.4252),(-0.4216),(-0.4174),(-0.4126),(-0.4073),(-0.4016),(-0.3954),(-0.3890),(-0.3824),(-0.3756),(-0.3687),(-0.3619),(-0.3551),(-0.3486),(-0.3423),(-0.3365),(-0.3312),(-0.3266),(-0.3231),(-0.3209),(-0.3235),(-0.3297),(-0.3324),(-0.3326),(-0.3335),(-0.3350),(-0.3376),(-0.3410),(-0.3451),(-0.3496),(-0.3544),(-0.3591),(-0.3635),(-0.3674),(-0.3706),(-0.3729),(-0.3742),(-0.3743),(-0.3730),(-0.3703),(-0.3660),(-0.3601),(-0.3526),(-0.3433),(-0.3323),(-0.3195),(-0.3050),(-0.2887),(-0.2706),(-0.2506),(-0.2287),(-0.2047),(-0.1783),(-0.1495),(-0.1177),(-0.0804),(-0.0370)};
function this.Wav_file_ext_wave_samples()
   return 600;
end

function this.Wav_file_ext_wave(channel,index)
   if (channel == 0) then
      return Wav_file_ext_wave_chan_0[(index % 600)+1];
   end
   return 0.0000;

end

function this.Wav_file__ctx_type_2_init()
   local _ctx = {};
   _ctx.i = 0;
   return _ctx;

end

function this.Wav_file_index_init()
   return this.Wav_file__ctx_type_2_init();
end

function this.Wav_file_index(_ctx)
   _ctx.i = ((_ctx.i + 1) % this.Wav_file_ext_wave_samples());
   return _ctx.i;

end

function this.Wav_file__ctx_type_3_init()
   local _ctx = {};
   _ctx._inst2 = this.Wav_file__ctx_type_2_init();
   return _ctx;

end

function this.Wav_file_osc_wave_init()
   return this.Wav_file__ctx_type_3_init();
end

function this.Wav_file_osc_wave(_ctx,cv)
   return this.Wav_file_ext_wave(0,this.Wav_file_index(_ctx._inst2));

end

function this.Wav_file__ctx_type_4_init()
   local _ctx = {};
   _ctx._inst4 = this.Wav_file__ctx_type_3_init();
   return _ctx;

end

function this.Wav_file_process_init()
   return this.Wav_file__ctx_type_4_init();
end

function this.Wav_file_process(_ctx,cv)
   return this.Wav_file_osc_wave(_ctx._inst4,cv);

end

function this.Wav_file_noteOn_init()
   return this.Wav_file__ctx_type_4_init();
end

function this.Wav_file_noteOn(_ctx,note,velocity,channel)

end

function this.Wav_file_noteOff_init()
   return this.Wav_file__ctx_type_4_init();
end

function this.Wav_file_noteOff(_ctx,note,channel)

end

function this.Wav_file_controlChange_init()
   return this.Wav_file__ctx_type_4_init();
end

function this.Wav_file_controlChange(_ctx,control,value,channel)

end

function this.Wav_file_default_init()
   return this.Wav_file__ctx_type_4_init();
end

function this.Wav_file_default(_ctx)

end


function this.process(ctx,cv) return this.Wav_file_process(ctx,cv) end
function this.noteOn(ctx,note,velocity,channel) return this.Wav_file_noteOn(ctx,note,velocity,channel) end
function this.noteOff(ctx,note,channel) return this.Wav_file_noteOff(ctx,note,channel) end
function this.controlChange(ctx,control,value,channel) return this.Wav_file_controlChange(ctx,control,value,channel) end
function this.init() return this.Wav_file_process_init() end
function this.default(ctx) return this.Wav_file_default(ctx) end
this.config = { inputs = 2, outputs = 1, noteon_inputs = 4, noteoff_inputs = 3, controlchange_inputs = 4, is_active = true }
return this
