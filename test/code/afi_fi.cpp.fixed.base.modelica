
/* Code automatically generated by Vult https://github.com/modlfo/vult */
#include "afi_fi.h"

void Afi_fi__ctx_type_0_init(Afi_fi__ctx_type_0 &_output_){
   Afi_fi__ctx_type_0 _ctx;
   _ctx.x = 0;
   _ctx.process_ret_1 = 0;
   _ctx.process_ret_0 = 0x0 /* 0.000000 */;
   _output_ = _ctx;
   return ;
}

void Afi_fi_process_init(Afi_fi__ctx_type_0 &_output_){
   Afi_fi__ctx_type_0_init(_output_);
   return ;
}

void Afi_fi_process(Afi_fi__ctx_type_0 &_ctx, fix16_t a, int b){
   _ctx.x = (_ctx.x + 1);
   _ctx.process_ret_0 = a;
   _ctx.process_ret_1 = b;
   return ;
}

void Afi_fi_process_ret_0_init(Afi_fi__ctx_type_0 &_output_){
   Afi_fi__ctx_type_0_init(_output_);
   return ;
}

fix16_t Afi_fi_process_ret_0(Afi_fi__ctx_type_0 &_ctx){
   return _ctx.process_ret_0;
}

void Afi_fi_process_ret_1_init(Afi_fi__ctx_type_0 &_output_){
   Afi_fi__ctx_type_0_init(_output_);
   return ;
}

int Afi_fi_process_ret_1(Afi_fi__ctx_type_0 &_ctx){
   return _ctx.process_ret_1;
}

void Afi_fi_noteOn_init(Afi_fi__ctx_type_0 &_output_){
   Afi_fi__ctx_type_0_init(_output_);
   return ;
}

void Afi_fi_noteOn(Afi_fi__ctx_type_0 &_ctx, int note, int velocity, int channel){

}

void Afi_fi_noteOff_init(Afi_fi__ctx_type_0 &_output_){
   Afi_fi__ctx_type_0_init(_output_);
   return ;
}

void Afi_fi_noteOff(Afi_fi__ctx_type_0 &_ctx, int note, int channel){

}

void Afi_fi_controlChange_init(Afi_fi__ctx_type_0 &_output_){
   Afi_fi__ctx_type_0_init(_output_);
   return ;
}

void Afi_fi_controlChange(Afi_fi__ctx_type_0 &_ctx, int control, int value, int channel){

}

void Afi_fi_default_init(Afi_fi__ctx_type_0 &_output_){
   Afi_fi__ctx_type_0_init(_output_);
   return ;
}

void Afi_fi_default(Afi_fi__ctx_type_0 &_ctx){

}



extern "C" {

EXPORT void *afi_fi__constructor()
{
   Afi_fi_process_type *data = (Afi_fi_process_type *)malloc(sizeof(Afi_fi_process_type));
   Afi_fi_process_init(*data);
   Afi_fi_default(*data);
   return (void *)data;
}

EXPORT void afi_fi__destructor(void *object)
{
   Afi_fi_process_type *data = (Afi_fi_process_type *)object;
   free(data);
}

EXPORT void afi_fi__process(void *object, double in_0, int in_1, double &out_0, int &out_1)
{
   Afi_fi_process_type *data = (Afi_fi_process_type *)object;
   _tuple___real_int__ ret;  Afi_fi_process(*data,float_to_fix(in_0),float_to_int(in_1),ret); 
out_0 = fix_to_float(ret.field_0); 
out_1 = int_to_float(ret.field_1); 

}


EXPORT void afi_fi__noteOn(void *object, int note,int velocity,int channel){
   Afi_fi_process_type *data = (Afi_fi_process_type *)object;
   if(vel) Afi_fi_noteOn(*data,(int)note,(int)velocity,(int)channel);
   else Afi_fi_noteOff(*data,(int)note,(int)channel);
}



EXPORT void afi_fi__noteOff(void *object, int note,int channel) {
   Afi_fi_process_type *data = (Afi_fi_process_type *)object;
   Afi_fi_noteOff(*data,(int)note,(int)channel);
}



EXPORT void afi_fi__controlChange(void *object, int control,int value,int channel) {
   Afi_fi_process_type *data = (Afi_fi_process_type *)object;
   Afi_fi_controlChange(*data,(int)control,(int)value,(int)channel);
}


} // extern "C"
